# 复杂度

> 复杂度，即衡量程序运行的效率，通常包括两个维度：时间复杂度和空间复杂度

1，程序运行低效的两种情况：

- 离线的，它会让开发周期、测试周期变得很长
- 在线的，系统随时具有随时间崩溃或内存爆炸的可能性

**tips： 衡量代码的运行效率对工程师来说是一项非常重要的基本功**

2，什么是复杂度？

复杂度是衡量代码运行效率的重要度量因素，`计算机通过一个个程序去执行计算任务，即对输入数据进行加工处理，并最终得到结果的过程`

3，如何衡量复杂度，换句话说，一段代码执行消耗的资源是什么？

> 可以从两个维度来衡量：计算时间和计算空间

需要衡量的就是时间复杂度和空间复杂度

4，执行一段代码消耗的资源是多少？

> 对资源的消耗，一般不会关注资源消耗的绝对量

不管是时间还是空间，执行过程中消耗程度都与输入的数据量大小相关，为了更客观的衡量消耗程度，通常会**关注时间或空间消耗量与输入数据量的之间的关系**

5，如何计算复杂度？

**定义：复杂度是一个关于输入数据量 n 的函数。**假设代码复杂度是 f(n)，可以表示为 O(f(n))

示例：

- O(n)：复杂度与计算实例的个数 n 线性相关
- O(logn)：复杂度与计算实例的个数 n 对数相关

6，复杂度的计算方法遵循的原则：

- 复杂度与具体的常系数无关

示例：

O(n)和 O(2n)是相同的复杂度，O(2n) = O(n + n) = O(n) + O(n)

- 多项式的复杂度相加的时候，选择高者作为结果

示例：

O(n^2) + O(n)和 O(n^2)是同样的复杂度，O(n^2) + O(n) = O(n^2 + n)

多项式只需要通过更大变化率的二阶多项式来表征复杂度即可

7，O(1)表示一个特殊的复杂度

O(1)表示执行某个任务只需要消耗「有限可数」的资源，**「有限可数」的具体含义是：与输入数据量 n 无关**

8，时间复杂度与代码结构的关系

- 时间复杂度与代码结构有着非常紧密的关系
- 空间复杂度与数据结构的设计有关

9，降低时间复杂度必要性

通常，在小数据集上，时间复杂度的降低在绝对处理时间上效果并不明显，但是在当今大数据的环境下，**时间复杂度的优化将会带来巨大地系统收益，这是优秀工程师必须具备的工程开发基本意识**

## 要点

1，对同一个问题，采用不同的编码方法，对时间和空间的消耗是有可能不一样的

- 工程师在写代码时，不仅要完成任务目标，还要考虑时间复杂度和空间复杂度，**用尽可能少的资源完成任务**

2，一些经验性的结论：

- 一个顺序结构的代码，时间复杂度是 O(1)
- 二分查找或采用分而治之的二分策略，时间复杂度都是 O(logn)
- 一个简单的 for 循环，时间复杂度是 O(n)
- 两个顺序执行的 for 循环，时间复杂度是 O(n)
- 两个嵌套的 for 循环，时间复杂度是 O(n^2)
