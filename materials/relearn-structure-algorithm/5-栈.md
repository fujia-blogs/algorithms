# 栈：后进先出的线性表

> 栈是一种特殊的线性表，区别在于增和删的操作

1. 线性表对数据的顺序非常敏感，而且对数据的增删操作非常灵活。在有序排列的数据中，可以灵活的执行增删操作。

注意，灵活背后的不足也很明显：

- 灵活性在某种程度上破坏了数据的原始顺序

在一些需要严格遵循数据顺序的场景下就需要对线性表进行限制。

2. 什么是栈？

栈的数据新增和删除操作只能在线性表的表尾进行，即**在线性表的基础上加了限制**

3. 栈的特征：

栈的数据结点必须**后进先出**：

- 后进：新增操作只能在末端进行，不允许在栈的中间某个节点新增数据
- 先出：删除操作只能在末端进行，不允许在栈的中间某个节点删除数据

4. 为什么需要栈？

从功能上，可以使用数组或链表替代栈，但**数组或链表的操作过于灵活**，意味着它们过多的暴露了可操作的接口，这些没有意义的接口过多，当数据量很大时候就会出现一些隐藏的风险。

`栈的限定降低了操作的灵活性，但这使得栈在处理只涉及一端新增和删除数据的问题时效率更高。`

## 栈的实现

1. 栈包含「表头」和「表尾」，在栈结构中，由于操作的特殊性，需要对表头和表尾的名字进行改造：

- 表尾用来输入数据，通常也叫做栈顶(top)
- 表头是栈底(bottom)

栈底和栈顶是用来表示这个栈的两个指针。

2. 栈也有顺序表示和链式表示，分别称作：顺序栈和链栈。

### 栈的基本操作

1. 压栈(push)

2. 出栈(pop)

### 顺序栈

1. 栈的顺序存储可以借助数组来实现：

- 把数组的首元素存在栈底，最后一个元素放在栈顶
- 定义一个 top 指针来表示栈顶元素在数组中的位置

如果栈中只有一个元素，则 top=0，一般以 top 是否为-1 来判断是否为空栈。

当定义了栈的最大容量为 StackSize 时，则栈顶 top 必须小于 StackSize。

2. 新增数据，即入栈操作时，就需要将新插入元素放在栈顶，并将栈顶指针增加 1。

3. 删除数据，即出栈操作，只需要将 top - 1 即可。

4. 查找操作，没有额外改变需要遍历整个栈来完成基于某些条件的数值查找。

### 链式栈

1. 链式栈，就是用链表的方式对栈的表示。通常，可以把栈顶放在单链表的头部。

2. 压栈操作，与链表最后插入的新数据基本相同，需要额外处理的，就是栈 top 指针

3. 出栈操作，只能在栈顶操作，将栈顶的 top 指针指向栈顶元素的 next 指针即可完成删除。对于链式栈，新增删除数据元素没有任何循环操作，时间复杂度均为 O(1)。

4. 查找操作，需要遍历整个栈来完成基于某些条件的数值查找。

## 小结

1. 栈具有后进先出的特性，当面对的问题需要高频使用新增、删除的操作且新增和删除操作的数据执行顺序具备后来居上的相反关系时，栈是个不错的选择。

2. 栈在代码的编写中有着非常广泛的应用，如：大多数程序的运行环境都有子程序的调用，函数的递归调用等。
