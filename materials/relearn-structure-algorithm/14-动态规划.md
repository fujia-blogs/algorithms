# 动态规划

> 通过最优子结构，完成复杂问题求解。

1. 分治法的使用必须满足 4 个条件：

- 问题的解决难度与数据规模有关。
- 原问题可被分解。
- 子问题的解可以合并为原问题的解。
- 所有的子问题相互独立。

但在实际开发中，有些问题满足上述前 3 个条件，却并不满足第 4 个问题，要如何处理呢？

2. 什么是动态规划？

从数学的角度看，**动态规划**是一种运筹学方法，是在多轮决策过程中的最优方法。

理解「多轮决策」：把每一轮决策看作是一个子问题。

- 从分治法的视角来看，每个子问题必须相互独立，但在多轮决策中，这个假设不成立。

3. 动态规划有个重要的概念：**状态**。状态是个变量，且受决策动作的影响。

## 动态规划的基本方法

> 动态规划问题难点是没有什么通用的解决方法，需要根据实际问题来解决，即仔细分析问题，寻找解决方案。

1. 动态规划的解题方法并没有那么标准化，但动态规划问题有一些宏观层面通用的方法论(k 表示多轮决策的第 k 轮)：

- 1.1 **分阶段**，将原问题划分成几个子问题。一个子问题就是多轮决策的一个阶段，它们可以是不满足独立性的。
- 1.2 **找状态**，选择合适的状态变量 Sk，它需要具备描述多轮决策过程的演变，更像是决策可能的结果。
- 1.3 **做决策**，确定决策变量 Uk，每一轮的决策就是每一轮可能的决策动作，如：D2 的可能决策动作是 D2 -> E2 和 D2 -> E3。
- 1.4 **状态转移方程**，这是动态规划最重要的核心，即 $S_{k+1}=u_k(s_k)$
- 1.5 **定目标**，写出代表多轮决策目标的指标函数$V_{k,n}$
- 1.6 **寻找终止条件**。

2. 基本概念：

- **策略**，每轮的动作是决策，多轮决策合在一起常常被称为策略。
- **策略集合**，由于每轮的决策动作都是**一个变量**，导致合在一起的变量也是一个变量，通常会称所有可能的策略为策略集合。

因此，**动态规划的目标，可以说是从策略集合中，找到最优的那个策略。**

3. 什么时候采用动态规划求解？当一个问题具备如下特征时：

- 3.1 **最优子结构**，具体含义是：原问题的最优解所包括的子问题的解也是最优的，如：某个策略使得 A 到 G 是最优的，假设它途径了$F_i$，那么它从 A 到$F_i$也一定是最优的。
- 3.2 **无后效性**，某阶段的决策，无法影响先前的状态。
- 3.3 **有重叠问题**，子问题之间不独立，这个性质是动态规划区别于分治法的条件。

## 要点

1. 「动态规划」 - 是面试者的噩梦，也是面试过程中的难点。同时，在实际应用中使用频率并不高，不是所有的岗位都用到动态规划。

2. 在动态规划的过程中，从后往前不断地推进结果，即状态转移的过程。

3. 记住：**动态规划**并不简单，且适用范围没有那么广，如果不是专门从事运筹优化领域的工作，不了解很正常。
